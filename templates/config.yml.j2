#jinja2: lstrip_blocks: "True"

{% if promtail_config_global |length %}
global: 
  {{ promtail_config_global }}
{% endif %}

server:
  {{ promtail_config_server | to_nice_yaml(indent=2) | indent(2, False) }}

{% if promtail_config_positions != [] %}
positions:
  {{ promtail_config_positions | to_nice_yaml(indent=2) | indent(2, False) }}
{% endif %}

clients:
  {{ promtail_config_clients | to_nice_yaml(indent=2) | indent(2, False) }}

scrape_configs:
{% if promtail_config_scrape |length %}
{{ promtail_config_scrape }}
{% endif %}

{% if promtail_target_config |length %}
target_config:
  {{ promtail_target_config }}
{% endif %}

{% if promtail_config_limits |length %}
limits: 
  {{ promtail_config_limits }}
{% endif %}

{% if promtail_config_options |length %}
options: 
  {{ promtail_config_options }}
{% endif %}

{% if promtail_config_tracing |length %}
tracing: 
  {{ promtail_config_tracing }}
{% endif %}
